{"ast":null,"code":"var _jsxFileName = \"D:\\\\Chaituu\\\\social_platform\\\\frontend\\\\src\\\\UserSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react'; // 1. Import useState\nimport api from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserSearch = () => {\n  _s();\n  // 2. Define the state and the setter function\n  const [searchResults, setSearchResults] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const handleSearch = async e => {\n    const value = e.target.value;\n    setQuery(value);\n    if (value.length > 2) {\n      try {\n        // Using the 'api' instance we fixed earlier to avoid 401 errors\n        const res = await api.get(`users/?search=${value}`);\n\n        // 3. Now this will work because it's defined above!\n        setSearchResults(res.data);\n      } catch (err) {\n        console.error(\"Search error:\", err);\n      }\n    } else {\n      setSearchResults([]); // Clear results if query is too short\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.searchContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search users...\",\n      value: query,\n      onChange: handleSearch,\n      style: styles.input\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.resultsList,\n      children: searchResults.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.userRow,\n        children: user.username\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n\n// ... styles below\n_s(UserSearch, \"BAzQ14oAUCcGGznpZSJb/kTfNM0=\");\n_c = UserSearch;\nvar _c;\n$RefreshReg$(_c, \"UserSearch\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","UserSearch","_s","searchResults","setSearchResults","query","setQuery","handleSearch","e","value","target","length","res","get","data","err","console","error","style","styles","searchContainer","children","type","placeholder","onChange","input","fileName","_jsxFileName","lineNumber","columnNumber","resultsList","map","user","userRow","username","id","_c","$RefreshReg$"],"sources":["D:/Chaituu/social_platform/frontend/src/UserSearch.js"],"sourcesContent":["import React, { useState } from 'react'; // 1. Import useState\r\nimport api from './api'; \r\n\r\nconst UserSearch = () => {\r\n    // 2. Define the state and the setter function\r\n    const [searchResults, setSearchResults] = useState([]); \r\n    const [query, setQuery] = useState(\"\");\r\n\r\n    const handleSearch = async (e) => {\r\n        const value = e.target.value;\r\n        setQuery(value);\r\n\r\n        if (value.length > 2) {\r\n            try {\r\n                // Using the 'api' instance we fixed earlier to avoid 401 errors\r\n                const res = await api.get(`users/?search=${value}`);\r\n                \r\n                // 3. Now this will work because it's defined above!\r\n                setSearchResults(res.data); \r\n            } catch (err) {\r\n                console.error(\"Search error:\", err);\r\n            }\r\n        } else {\r\n            setSearchResults([]); // Clear results if query is too short\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.searchContainer}>\r\n            <input \r\n                type=\"text\" \r\n                placeholder=\"Search users...\" \r\n                value={query}\r\n                onChange={handleSearch}\r\n                style={styles.input}\r\n            />\r\n            \r\n            <div style={styles.resultsList}>\r\n                {searchResults.map(user => (\r\n                    <div key={user.id} style={styles.userRow}>\r\n                        {user.username}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// ... styles below"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO,CAAC,CAAC;AACzC,OAAOC,GAAG,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB;EACA,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMU,YAAY,GAAG,MAAOC,CAAC,IAAK;IAC9B,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5BH,QAAQ,CAACG,KAAK,CAAC;IAEf,IAAIA,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;MAClB,IAAI;QACA;QACA,MAAMC,GAAG,GAAG,MAAMd,GAAG,CAACe,GAAG,CAAC,iBAAiBJ,KAAK,EAAE,CAAC;;QAEnD;QACAL,gBAAgB,CAACQ,GAAG,CAACE,IAAI,CAAC;MAC9B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,eAAe,EAAEF,GAAG,CAAC;MACvC;IACJ,CAAC,MAAM;MACHX,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B;EACJ,CAAC;EAED,oBACIJ,OAAA;IAAKkB,KAAK,EAAEC,MAAM,CAACC,eAAgB;IAAAC,QAAA,gBAC/BrB,OAAA;MACIsB,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC,iBAAiB;MAC7Bd,KAAK,EAAEJ,KAAM;MACbmB,QAAQ,EAAEjB,YAAa;MACvBW,KAAK,EAAEC,MAAM,CAACM;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC,eAEF7B,OAAA;MAAKkB,KAAK,EAAEC,MAAM,CAACW,WAAY;MAAAT,QAAA,EAC1BlB,aAAa,CAAC4B,GAAG,CAACC,IAAI,iBACnBhC,OAAA;QAAmBkB,KAAK,EAAEC,MAAM,CAACc,OAAQ;QAAAZ,QAAA,EACpCW,IAAI,CAACE;MAAQ,GADRF,IAAI,CAACG,EAAE;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEZ,CACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;;AAED;AAAA3B,EAAA,CA7CMD,UAAU;AAAAmC,EAAA,GAAVnC,UAAU;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}